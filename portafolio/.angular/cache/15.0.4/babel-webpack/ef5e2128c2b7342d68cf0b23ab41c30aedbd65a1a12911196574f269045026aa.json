{"ast":null,"code":"import { ProjectService } from '../../services/project.service';\nimport { Global } from '../../services/global';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/project.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction DetailComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"img\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r1.url + \"get-image/\" + ctx_r1.project.image, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/editar-proyecto\", a1];\n};\nfunction DetailComponent_div_0_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"a\", 7);\n    i0.ɵɵtext(2, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function DetailComponent_div_0_p_11_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.setConfirm(true));\n    });\n    i0.ɵɵtext(4, \"Borrar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, ctx_r2.project._id));\n  }\n}\nfunction DetailComponent_div_0_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\")(1, \"span\", 9);\n    i0.ɵɵtext(2, \"\\u00BFEstas seguro de eliminar este proyecto?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function DetailComponent_div_0_p_12_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.setConfirm(false));\n    });\n    i0.ɵɵtext(4, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function DetailComponent_div_0_p_12_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.deleteProject(ctx_r8.project._id));\n    });\n    i0.ɵɵtext(6, \"Eliminar definitivamente\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, DetailComponent_div_0_div_1_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3)(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, DetailComponent_div_0_p_11_Template, 5, 3, \"p\", 4);\n    i0.ɵɵtemplate(12, DetailComponent_div_0_p_12_Template, 7, 0, \"p\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.project.image);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.project.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.project.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.project.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.project.langs);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.confirm == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.confirm == true);\n  }\n}\nexport class DetailComponent {\n  constructor(_projectService, _router, _route) {\n    this._projectService = _projectService;\n    this._router = _router;\n    this._route = _route;\n    this.url = Global.url;\n    this.confirm = false;\n  }\n  ngOnInit() {\n    this._route.params.subscribe(params => {\n      let id = params.id;\n      this.getProject(id);\n    });\n  }\n  getProject(id) {\n    this._projectService.getProject(id).subscribe(response => {\n      this.project = response.project;\n    }, error => {\n      console.log(error);\n    });\n  }\n  setConfirm(confirm) {\n    this.confirm = confirm;\n  }\n  deleteProject(id) {\n    this._projectService.deleteProject(id).subscribe(response => {\n      if (response.project) {\n        this._router.navigate(['/proyectos']);\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n}\nDetailComponent.ɵfac = function DetailComponent_Factory(t) {\n  return new (t || DetailComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetailComponent,\n  selectors: [[\"app-detail\"]],\n  features: [i0.ɵɵProvidersFeature([ProjectService])],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [\"class\", \"image\", 4, \"ngIf\"], [1, \"data\"], [4, \"ngIf\"], [1, \"image\"], [3, \"src\"], [1, \"button-edit\", 3, \"routerLink\"], [1, \"button-delete\", 3, \"click\"], [1, \"confirm\"], [1, \"button-edit\", 3, \"click\"]],\n  template: function DetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, DetailComponent_div_0_Template, 13, 7, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.project);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLink],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    background: rgba(255, 255, 255, 0.253);\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n}\\r\\n\\r\\n.image[_ngcontent-%COMP%] {\\r\\n    width: 43vw;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.data[_ngcontent-%COMP%] {\\r\\n    width: 57vw;\\r\\n    color: bisque;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.button-edit[_ngcontent-%COMP%], .button-delete[_ngcontent-%COMP%] {\\r\\n    text-decoration: none;\\r\\n    margin: 5px;\\r\\n    padding: 10px;\\r\\n    background: rgba(0, 128, 0, 0.726);\\r\\n    border-radius: 5px;\\r\\n    box-shadow: inset 0 0 5px black;\\r\\n}\\r\\n\\r\\n.button-edit[_ngcontent-%COMP%]:hover, .button-delete[_ngcontent-%COMP%]:hover {\\r\\n    background-color: rgba(255, 248, 220, 0.582);\\r\\n}\\r\\n\\r\\n.button-delete[_ngcontent-%COMP%] {\\r\\n    background: rgba(255, 0, 0, 0.575);\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kZXRhaWwvZGV0YWlsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxzQ0FBc0M7SUFDdEMsYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7O0FBRUE7O0lBRUkscUJBQXFCO0lBQ3JCLFdBQVc7SUFDWCxhQUFhO0lBQ2Isa0NBQWtDO0lBQ2xDLGtCQUFrQjtJQUNsQiwrQkFBK0I7QUFDbkM7O0FBRUE7O0lBRUksNENBQTRDO0FBQ2hEOztBQUVBO0lBQ0ksa0NBQWtDO0FBQ3RDIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjUzKTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG59XHJcblxyXG4uaW1hZ2Uge1xyXG4gICAgd2lkdGg6IDQzdnc7XHJcbn1cclxuXHJcbmltZyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmRhdGEge1xyXG4gICAgd2lkdGg6IDU3dnc7XHJcbiAgICBjb2xvcjogYmlzcXVlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uYnV0dG9uLWVkaXQsXHJcbi5idXR0b24tZGVsZXRlIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIG1hcmdpbjogNXB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMTI4LCAwLCAwLjcyNik7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgNXB4IGJsYWNrO1xyXG59XHJcblxyXG4uYnV0dG9uLWVkaXQ6aG92ZXIsXHJcbi5idXR0b24tZGVsZXRlOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNDgsIDIyMCwgMC41ODIpO1xyXG59XHJcblxyXG4uYnV0dG9uLWRlbGV0ZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMCwgMCwgMC41NzUpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ProjectService","Global","i0","DetailComponent","constructor","_projectService","_router","_route","url","confirm","ngOnInit","params","subscribe","id","getProject","response","project","error","console","log","setConfirm","deleteProject","navigate","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\sertu\\Documents\\angular\\Web-Portafolio\\portafolio\\src\\app\\components\\detail\\detail.component.ts","C:\\Users\\sertu\\Documents\\angular\\Web-Portafolio\\portafolio\\src\\app\\components\\detail\\detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Project } from '../../models/project';\r\nimport { ProjectService } from '../../services/project.service';\r\nimport { Global } from '../../services/global';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-detail',\r\n\ttemplateUrl: './detail.component.html',\r\n\tstyleUrls: ['./detail.component.css'],\r\n\tproviders: [ProjectService]\r\n})\r\nexport class DetailComponent implements OnInit {\r\n\tpublic url: string;\r\n\tpublic project: Project;\r\n\tpublic confirm: boolean;\r\n\r\n\tconstructor(\r\n\t\tprivate _projectService: ProjectService,\r\n\t\tprivate _router: Router,\r\n\t\tprivate _route: ActivatedRoute\r\n\t){\r\n\t\tthis.url = Global.url;\r\n\t\tthis.confirm = false;\r\n\t}\r\n\r\n\tngOnInit(){\r\n\t\tthis._route.params.subscribe(params => {\r\n\t\t\tlet id = params.id;\r\n\r\n\t\t\tthis.getProject(id);\r\n\t\t});\r\n\t}\r\n\r\n\tgetProject(id){\r\n\t\tthis._projectService.getProject(id).subscribe(\r\n\t\t\tresponse => {\r\n\t\t\t\tthis.project = response.project;\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(<any>error);\r\n\t\t\t})\r\n\t}\r\n\r\n\tsetConfirm(confirm){\r\n\tthis.confirm = confirm;\r\n\t}\r\n\r\n\tdeleteProject(id){\r\n\t\tthis._projectService.deleteProject(id).subscribe(\r\n\t\t\tresponse => {\r\n\t\t\t\tif(response.project){\r\n\t\t\t\t\tthis._router.navigate(['/proyectos']);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tconsole.log(<any>error);\r\n\t\t\t});\r\n\t}\r\n\r\n}\r\n","<div class=\"container\" *ngIf=\"project\">\r\n\r\n\t<div class=\"image\" *ngIf=\"project.image\">\r\n\t\t<img src=\"{{url+'get-image/'+project.image}}\"/>\r\n\t</div>\r\n\t<div class=\"data\">\r\n\t\t<h1>{{project.name}}</h1>\r\n\t\t<h3>{{project.description}}</h3>\r\n\t\t<p>{{project.category}}</p>\r\n\t\t<p>{{project.langs}}</p>\r\n\t\t<p *ngIf=\"confirm == false\">\r\n\t\t\t<a [routerLink]=\"['/editar-proyecto', project._id]\" class=\"button-edit\">Editar</a>\r\n\t\t\t<a (click)=\"setConfirm(true)\" class=\"button-delete\">Borrar</a>\r\n\t\t</p>\r\n\r\n\t\t<p *ngIf=\"confirm == true\">\r\n\t\t\t<span class=\"confirm\">¿Estas seguro de eliminar este proyecto?</span>\r\n\t\t\t<a (click)=\"setConfirm(false)\" class=\"button-edit\">Cancelar</a>\r\n\t\t\t<a (click)=\"deleteProject(project._id)\" class=\"button-delete\">Eliminar definitivamente</a>\r\n\t\t</p>\r\n\t</div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}